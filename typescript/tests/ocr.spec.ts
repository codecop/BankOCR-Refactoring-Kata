import { Ocr } from '../src/ocr';

describe('Ocr', () => {

    it('parses_one_record_with_888888888', () => {
        expect(Ocr.parse([' _   _   _   _   _   _   _   _   _  ',
                          '|_| |_| |_| |_| |_| |_| |_| |_| |_| ',
                          '|_| |_| |_| |_| |_| |_| |_| |_| |_| ',
                          '                                    '])).
            toEqual(['888888888    ']);
    });

    it('parses_two_records_with_888888888', () => {
        expect(Ocr.parse([' _   _   _   _   _   _   _   _   _  ',
                          '|_| |_| |_| |_| |_| |_| |_| |_| |_| ',
                          '|_| |_| |_| |_| |_| |_| |_| |_| |_| ',
                          '                                    ',
                          ' _   _   _   _   _   _   _   _   _  ',
                          '|_| |_| |_| |_| |_| |_| |_| |_| |_| ',
                          '|_| |_| |_| |_| |_| |_| |_| |_| |_| ',
                          '                                    '])).
            toEqual(['888888888    ',
                     '888888888    ']);
    });

    it('parses_one_record_with_123456790', () => {
        expect(Ocr.parse(['     _   _       _   _   _   _   _  ',
                          '  |  _|  _| |_| |_  |_    | |_| | | ',
                          '  | |_   _|   |  _| |_|   |  _| |_| ',
                          '                                    '])).
            toEqual(['123456790    ']);
    });

    it('parses_two_records', () => {
        expect(Ocr.parse(['     _   _       _   _   _   _   _  ',
                          '  |  _|  _| |_| |_  |_    | |_| | | ',
                          '  | |_   _|   |  _| |_|   |  _| |_| ',
                          '                                    ',
                          ' _       _   _   _       _   _   _  ',
                          '|_| |_|   | |_|   | |_|  _|  _|  _| ',
                          ' _|   |   | |_|   |   | |_  |_  |_  ',
                          '                                    '])).
            toEqual(['123456790    ',
                     '947874222    ']);
    });

    it('parses_illegal_digit', () => {
        expect(Ocr.parse(['     _   _       _   _   _   _   _  ',
                          '  |  _| |_|  _| |_  |_    | |_| | | ',
                          '  | |_   _    |  _| |_|   |  _| |_| ',
                          '                                    '])).
            toEqual(['12??56790 ILL']);
    });

    // it('checksum_fail_returns_ERR', () => {
    //     expect(Ocr.parse([' _   _       _   _           _   _  ',
    //                       '|_  |_  |_|  _|   |   | |_| |_| |_  ',
    //                       '|_| |_|   |  _|   |   |   |  _|  _| ',
    //                       '                                    '])).
    //         toEqual(['664371495 ERR']);
    // });

});
